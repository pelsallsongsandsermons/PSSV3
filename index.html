<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pelsall Songs & Sermons</title>

    <!-- Meta -->
    <meta name="description" content="Christian songs and sermons from Pelsall Evangelical Church">
    <meta name="theme-color" content="#1a1a1a">
    <meta content="IE=Edge" http-equiv="X-UA-Compatible">

    <!-- iOS meta tags (Legacy Match) -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <!-- Icons -->
    <link rel="icon" type="image/png" href="assets/images/favicon.png">
    <link rel="apple-touch-icon" href="assets/images/app_launcher_icon.png">

    <!-- Manifest -->
    <link rel="manifest" href="manifest.json">

    <!-- Fonts / Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Styles -->
    <link rel="stylesheet" href="css/style.css">

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script>
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
    </script>
    <script type="module" src="js/app.js"></script>
</head>

<body>
    <div id="app-container">
        <!-- Persistent Header -->
        <header id="main-header">
            <button id="global-back-btn" class="header-back-btn hidden" aria-label="Back">
                <i class="fas fa-arrow-left"></i>
            </button>
            <div class="logo-area">
                <div class="header-text">
                    <h1>Pelsall Songs and Sermons</h1>
                </div>
                <div class="header-actions">
                    <button id="settings-btn" class="header-icon-btn" aria-label="Settings"
                        onclick="location.hash='#settings'">
                        <i class="fas fa-cog"></i>
                    </button>
                    <img src="assets/images/PechLogoRound.png" alt="Logo" class="logo">
                </div>
            </div>
            <!-- Version badge can be hidden or styled subtly -->
            <!-- Version badge -->
            <div id="app-version" class="version-badge"></div>
        </header>

        <!-- Dynamic Content Area -->
        <main id="app-content">
            <!-- Views will be injected here -->
            <div class="loading-spinner">Loading...</div>
        </main>

        <!-- Persistent Player Footer -->
        <footer id="player-footer" class="hidden">
            <div class="player-controls">
                <div class="song-info">
                    <span id="player-title">Select a song</span>
                    <span id="player-artist"></span>
                </div>
                <div class="controls">
                    <button id="btn-prev" aria-label="Previous">⏮️</button>
                    <button id="btn-play" aria-label="Play/Pause">▶️</button>
                    <button id="btn-next" aria-label="Next">⏭️</button>
                </div>
                <audio id="audio-element"></audio>
            </div>
        </footer>

        <!-- Navigation Bar (Mobile Style) -->

    </div>
</body>

</html>